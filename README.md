# Markov Password Manager

Менеджер паролей с генератором на основе цепей Маркова — создаёт запоминающиеся, словоподобные пароли и безопасно хранит их в зашифрованном виде.

## Возможности

- **Генерация паролей** на основе Марковских цепей (словоподобные, но случайные)
- **Зашифрованное хранилище** паролей (AES-256 + PBKDF2)
- **Копирование в буфер обмена** одной командой
- **CLI-интерфейс** для удобной работы из терминала

## Быстрый старт

### 1. Установка

Убедитесь, что у вас установлен Python 3.8+ и pipx:
```bash
# Установка pipx (если ещё не установлен)
sudo apt install pipx
pipx ensurepath
source ~/.bashrc
```

Клонируйте репозиторий и установите программу:
```bash
git clone <your-repo-url>
cd psswdprj

# Установка в режиме разработки
pipx install -e .
```

После установки команда `pwdman` будет доступна глобально из любой папки!

### 2. Первый запуск

Сгенерируйте ваш первый пароль:
```bash
pwdman generate -l 16
```

При первом запуске программа создаст необходимые файлы (`passwords.db`, `key.salt`).

## Основные команды

### Генерация паролей
```bash
# Сгенерировать один пароль длиной 16 символов
pwdman generate -l 16

# Сгенерировать 5 паролей
pwdman generate -l 20 -c 5

# Сгенерировать и сразу сохранить для сервиса
pwdman generate -l 16 --save github
```

### Управление паролями
```bash
# Добавить пароль вручную
pwdman add facebook john@email.com

# Получить пароль (показать на экране)
pwdman get facebook

# Получить пароль и скопировать в буфер обмена
pwdman get facebook --copy

# Показать все сохранённые сервисы
pwdman list

# Удалить пароль
pwdman delete facebook
```

### Дополнительные команды
```bash
# Переобучить модель (если изменили corpus.txt)
pwdman train

# Очистить всё хранилище (ОСТОРОЖНО!)
pwdman reset
```

## Безопасность

- **Мастер-пароль**: При первом использовании команд `add`, `get`, `delete` или `list` вам будет предложено ввести мастер-пароль. Этот пароль шифрует всё хранилище. Используйте мастер-пароль, который легко запомнить, но сложно угадать. Например, фразу из нескольких слов: `I_go_to_store_to_buy_some_water`
- **Шифрование**: Используется AES-256 через библиотеку `cryptography` с PBKDF2 (480,000 итераций).
- **Локальное хранение**: Все данные хранятся только НА ВАШЕМ компьютере в файле `passwords.db`.

**ВАЖНО**: Не забывайте свой мастер-пароль! Без него восстановить данные невозможно.

## Настройка

### Изменение корпуса текста

Генератор использует текстовый файл для обучения модели. По умолчанию это `source/data/corpus.txt`.

Вы можете заменить его своим текстом:

1. Замените содержимое `source/data/corpus.txt` на свой текст (книга, статья и т.д.)
2. Переобучите модель: `pwdman train`

Чем больше текст, тем разнообразнее пароли!

## Почему марковские цепи?

Генерация паролей с использованием марковских цепей — это удобный и эффективный подход, потому что модель учится на реальных последовательностях символов и воспроизводит статистически правдоподобные, но при этом случайные комбинации. Такие пароли получаются более естественными для чтения и ввода, чем полностью случайные строки, (например `HaverimSbrEtoHa` запомнить все таки легче, чем `wsdKlndiQycrtmb`, но их энтропия примерно одинакова ~80 бит), но всё ещё обладают высокой энтропией и непредсказуемостью. Марковская модель автоматически подстраивается под выбранный корпус текста, поэтому пользователь может легко управлять стилем получаемых паролей — от «словоподобных» до сложных смешанных последовательностей — без ручного задания правил. 

## Структура проекта
```
psswdprj/
├── source/
│   ├── __init__.py       # Пути и константы
│   ├── generator.py      # Генератор на цепях Маркова
│   ├── vault.py          # Зашифрованное хранилище
│   ├── cli.py            # CLI-интерфейс
│   └── data/
│       └── corpus.txt    # Текст для обучения модели
├── pyproject.toml        # Конфигурация пакета
└── README.md
```

## Удаление
```bash
pipx uninstall markov-password-manager
```

## Лицензия

MIT

---
